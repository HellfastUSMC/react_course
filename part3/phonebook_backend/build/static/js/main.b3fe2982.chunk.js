(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(52)},49:function(e,t,n){},51:function(e,t,n){e.exports=n.p+"static/media/loading.f5e5b5e6.gif"},52:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(18),o=n.n(r),u=n(2),l=n(4),s=n.n(l),i="api/phonebook",m=(n(49),function(e,t){e(t),setInterval(function(){e("")},5e3)}),f=function(e,t){e(t),setInterval(function(){e("")},5e3)},d=function(e){s.a.get(i).then(function(e){return e.data}).then(function(t){e(t)})},E=function(e){var t=e.newSearch,n=e.setSearch;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Search"),c.a.createElement("input",{value:t,onChange:function(e){n(e.target.value)}}))},p=function(e){var t=e.persons,a=e.setPersons,r=e.newSearch,o=e.setError,u=e.setActMsg,l=t,E=function(e){var t;(t=e.id,s.a.delete(i+"/"+t).then(function(e){return e.data})).then(function(t){d(a),f(u,"Contact ".concat(e.name," deleted"))}).catch(function(t){d(a),m(o,"Contact ".concat(e.name," already removed"))})};return""!==r&&(l=t.filter(function(e){return e.name.toLowerCase().includes(r.toLowerCase())})),t?c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Numbers"),c.a.createElement("div",{className:"phonebook"},l.map(function(e){return c.a.createElement("div",{className:"contact",key:e.id},c.a.createElement("p",null,"Name - ",e.name),c.a.createElement("p",null,"Phone - ",e.number),c.a.createElement("button",{onClick:function(){return E(e)}},"Delete"),c.a.createElement("hr",null))}))):c.a.createElement("p",null,c.a.createElement("img",{width:150,src:n(51),alt:"loading"}))},h=function(e){var t=e.persons,n=e.setPersons,r=e.setError,o=e.setActMsg,l=Object(a.useState)(""),E=Object(u.a)(l,2),p=E[0],h=E[1],b=Object(a.useState)(""),v=Object(u.a)(b,2),g=v[0],w=v[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Add contacts"),c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a,c,u={name:p,number:g};if(t.some(function(e){return e.name===u.name})){if(window.confirm("".concat(p," already exists, do you want to update number?"))){var l=t.find(function(e){return e.name===u.name});(a=l.id,c=u,s.a.put(i+"/"+a,c).then(function(e){return e.data})).then(function(e){d(n),f(o,"Contact ".concat(u.name," updated")),h(""),w("")}).catch(function(e){d(n),m(r,"Cannot update a contact ".concat(u.name," - ").concat(e.response.data.error))})}}else(function(e){return s.a.post(i,e).then(function(e){return e.data})})(u).then(function(e){d(n),f(o,"Contact ".concat(u.name," added")),h(""),w("")}).catch(function(e){console.log(e,e.message),m(r,"Cannot add a contact - ".concat(e.response.data.error))})}},c.a.createElement("div",{className:"add-contact"},c.a.createElement("p",null,"Name: ",c.a.createElement("input",{value:p,onChange:function(e){h(e.target.value)}})),c.a.createElement("p",null,"Phone: ",c.a.createElement("input",{value:g,onChange:function(e){w(e.target.value)}})),c.a.createElement("button",{type:"submit"},"Add"))))},b=function(e){var t=e.msg;if(t)return c.a.createElement("div",{className:"error"},t)},v=function(e){var t=e.msg;if(t)return c.a.createElement("div",{className:"plate"},t)},g=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(),l=Object(u.a)(o,2),s=l[0],i=l[1],m=Object(a.useState)(""),f=Object(u.a)(m,2),g=f[0],w=f[1],S=Object(a.useState)(""),j=Object(u.a)(S,2),O=j[0],C=j[1];return Object(a.useEffect)(function(){d(i)},[]),c.a.createElement("div",null,c.a.createElement(b,{msg:g}),c.a.createElement(v,{msg:O}),c.a.createElement("h1",null,"Phonebook"),c.a.createElement(E,{newSearch:n,setSearch:r}),c.a.createElement(p,{persons:s,setPersons:i,newSearch:n,setError:w,setActMsg:C}),c.a.createElement(h,{persons:s,setPersons:i,setError:w,setActMsg:C}))};o.a.createRoot(document.getElementById("root")).render(c.a.createElement(g,null))}},[[19,2,1]]]);
//# sourceMappingURL=main.b3fe2982.chunk.js.map